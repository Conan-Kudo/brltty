Braille Support for Dracut
==========================

This module provides braille accessibility within the initial ramdisk image.
If BRLTTY is installed (/usr/bin/brltty exists) then it is added to the image.
The braille drivers, text tables, attributes tables, contraction tables, and
preferences file configured via /etc/brltty.conf are included. Local
customizations in /etc/xdg/brltty/ are also included.

Note
  The earliest phase at which this module is known to be reliably functional is
  pre-mount. It's our plan to eventually resolve this limitation.

The following environment variables may be used to influence how BRLTTY is
installed into the initramfs:

* BRLTTY_DRACUT_BRAILLE_DRIVERS
  A space-separated list of additional braille drivers to include. For example:

    BRLTTY_DRACUT_BRAILLE_DRIVERS="pm eu"

* BRLTTY_DRACUT_TEXT_TABLES
  A space-separated list of additional text tables to include. For example:

    BRLTTY_DRACUT_TEXT_TABLES="de fr"

* BRLTTY_DRACUT_ATTRIBUTES_TABLES
  A space-separated list of additional attributes tables to include. For
  example:

    BRLTTY_DRACUT_ATTRIBUTES_TABLES="upper_lower left_right"

* BRLTTY_DRACUT_CONTRACTION_TABLES
  A space-separated list of additional contraction tables to include. For
  example:

    BRLTTY_DRACUT_CONTRACTION_TABLES="de-kurzschrift fr-abrege"

* BRLTTY_DRACUT_LOCALE
  The preferred locale (used to determine the default text and contraction
  tables). For example:

    BRLTTY_DRACUT_LOCALE=cs_CZ.UTF-8

  If needed, i.e. if the text and contraction tables haven't been configured
  via /etc/brltty.conf, this information must be expicitly set because it can't
  be determined from the system configuration when building the image. See:

    https://bugzilla.redhat.com/show_bug.cgi?id=1584036

  To pass through your system's currently configured locale, set:

    BRLTTY_DRACUT_LOCALE="$LANG"

This module interprets kernel command line parameters that begin with the
rd.brltty. prefix. All of BRLTTY's options that can be specified via
environment variables are supported (see man brltty for the full list). For
example, the parameter rd.brltty.braille_driver=vo is mapped to the environment
variable assignment BRLTTY_BRAILLE_DRIVER=vo. Some of the more interesting ones
are:

  ============================  ===========================
  Kernel Parameter              Default Value
  ----------------------------  ---------------------------
  rd.brltty.braille_driver      setting in /etc/brltty.conf
  rd.brltty.braille_device      setting in /etc/brltty.conf
  rd.brltty.braille_parameters  setting in /etc/brltty.conf
  rd.brltty.text_table          setting in /etc/brltty.conf
  rd.brltty.attributes_table    setting in /etc/brltty.conf
  rd.brltty.contraction_table   setting in /etc/brltty.conf
  rd.brltty.configuration_file  /etc/brltty.conf
  rd.brltty.preferences_file    /etc/brltty.prefs
  rd.brltty.log_file            /run/initramfs/brltty.log
  rd.brltty.log_level           setting in /etc/brltty.conf
  ============================  ===========================

